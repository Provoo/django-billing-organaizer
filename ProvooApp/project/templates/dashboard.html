{% extends "site_base.html" %}
{% load i18n %}
{% block head_title %}Dashboard{% endblock %}

{% block body_base %}
    {# TODO: DashBoard tempalte modal agragar mensaje de subida satisfactoria de archivos#}
    {# TODO: DashBoard tempalte modal Agragar mensaje de subida satisfactoria de archivos#}
    {# TODO: DashBoard tempalte Modal Sí la factura no pertenece al protafolio mandar mensaje de que se creo uno nuevo#}
    {# TODO: Borrar Factura#}
    <div id="wrapper">
      <!-- Sidebar -->
      <div id="sidebar-wrapper">
          <ul class="sidebar-nav">
              <li class="sidebar-brand">
                  <a href="{% url 'home' %}">
                      InvMachine
                  </a>
              </li>
              <li role="separator" class="divider"></li>
              {% if request.user.is_authenticated %}
              <li>
                <a href="{% url 'account_settings' %}" tabindex="-1">Settings</a>
              </li>
              <li>
                <a href="{% url 'portafolios' request.user.id %}" tabindex="-1">Portafolios</a>
              </li>
              <li>
                <a href="{% url 'account_settings' %}">
                {# <i class="fa fa-cog"></i>#}
                 {% trans "Settings" %}
                </a>
              </li>
              <li>
                <a id="account_logout" href="{% url 'account_logout' %}">
                  {# <i class="fa fa-power-off"></i>#}
                  {% trans "Log out" %}
                </a>
              </li>
              {% else %}
                  <li><a class="white-text" href="{% url 'account_login' %}">{% trans "Log in" %}</a></li>
                  {% if ACCOUNT_OPEN_SIGNUP %}
                      <li><a class="white-text" href="{% url 'account_signup' %}">{% trans "Sign up" %}</a></li>
                  {% endif %}
              {% endif %}
              <li>
                  <a href="#">Contact</a>
              </li>
          </ul>
      </div>
      <div id="page-content-wrapper">
        <section class="container-fluid">
            <div class="card row">
              <div class="col s12 m4">
                <h4 class="center">
                  {{ portafolio.Nombre }}
                </h4>
              </div>
              <div class="col s12 m8">
                <div class="center">
                  <h5> RUC: {{ portafolio.Ruc }}</h5>
                  <hr>
                  <small> Email: {{ portafolio.UserID }} |</small>
                  <small> Total Portafolio: ${{ portafolio.total_portafolio }} |</small>
                  <small>
                    <a href="{% url 'user_documentos' request.user portafolio.Ruc %}">Ver facturas</a>
                  </small>
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="jumbotron">
          <div class="row">
            <div class="col s12 m4">
              <div class="card row">
                <div class="card-title teal margin-zero" style="padding:5px"></div>
                <div class="col s4 valgrim-wraper">
                  <i class="material-icons" style="font-size:5rem; line-height: 10rem">credit_card</i>
                </div>
                <div class="col s8 valgrim-wraper">
                  <h4 class="center">Consumos</h4>
                  <hr>
                  <p class="center">
                      Total es de <br>
                      ${{ portafolio.total_gastos }}
                  </p>
                </div>
              </div>

              </div>
            <div class="col s12 m4">
              <div class="row card">
                <div class="card-title teal margin-zero" style="padding:5px"></div>
                <div class="col s4 valgrim-wraper">
                  <i class="fa fa-percent" style="font-size:5rem; line-height: 10rem;"></i>
                </div>
                <div class="col s8 valgrim-wraper">
                  <h4 class="center">Impuestos</h4>
                  <hr>
                  <p class="center">
                      Total es de <br>
                      ${{ portafolio.total_impuestos }}.
                  </p>
                </div>
              </div>
            </div>
            <div class="col s12 m4">
              <div class="row card ">
                <div class="card-title teal margin-zero" style="padding:5px"></div>
                <div class="col s4 valgrim-wraper center">
                  <i class="material-icons"style="font-size:4rem; line-height: 10rem">monetization_on</i>
                </div>
                <div class="col s8 valgrim-wraper">
                  <h4 class="center">Total</h4>
                  <hr>
                  <p class="center">
                      Total es de <br>
                      ${{ portafolio.total_portafolio }}.
                  </p>
                </div>
              </div>

            </div>
        </section>
        <section class="container-fluid white">
            <h3 class="center">Totales de deducibles</h3>
            <hr>
            <div class="row">
              <div class="col s12 m4">
                <div class="card-title blue margin-zero" style="padding:5px"></div>
                <div class="card white z-depth-2 row margin-zero">
                  <div class="card-content blue-text col s12 m4">
                      <div class="card-title center">
                        <i class="fa fa-home" style="font-size: 3rem"></i>
                      </div>
                  </div>
                  <div class="card-content col s12 m8">
                        <div class="card-title center">
                            <p>Vivienda</p>
                            ${{ portafolio.total_vestimenta }}
                        </div>
                        <div class="center"></div>
                    </div>
                </div>
              </div>
              <div class="col s12 m4">
                <div class="card-title blue margin-zero" style="padding:5px"></div>
                <div class="card white z-depth-2 row margin-zero">
                  <div class="card-content blue-text col s12 m4">
                    <div class="card-title center">
                        <span class="glyphicon glyphicon-education" style="font-size:3rem;"></span>
                    </div>
                  </div>
                  <div class="card-content  col s12 m8">
                    <div class="card-title center">
                      <p>Educación</p>
                      <div class=" center">${{ portafolio.total_educacion }}</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col s12 m4">
                <div class="card-title blue margin-zero" style="padding:5px"></div>
                <div class="card white z-depth-2 row margin-zero">
                  <div class="card-content blue-text col s12 m4">
                      <div class="card-title center">
                        <i class="material-icons" style="font-size:3rem;">restaurant</i>
                      </div>
                  </div>
                  <div class="card-content col s12 m8">
                    <div class="card-title center">
                      <p>Alimentación</p>
                      <div class="center">${{ portafolio.total_comida }}</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col s12 m4">
                <div class="card-title blue margin-zero" style="padding:5px"></div>
                <div class="card white z-depth-2 row margin-zero">
                  <div class="card-content blue-text col s12 m4">
                      <div class="card-title center">
                        <i class="fa fa-stethoscope" style="font-size:3rem;"></i>
                      </div>
                  </div>
                  <div class="card-content col s12 m8">
                    <div class="card-title center">
                      <p>Salud</p>
                      <div class=" center">${{ portafolio.total_salud }}</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col s12 m4">
                <div class="card-title blue margin-zero" style="padding:5px"></div>
                <div class="card white z-depth-2 row margin-zero">
                  <div class="card-content blue-text col s12 m4">
                      <div class="card-title center">
                        <i class="fa fa-stethoscope" style="font-size:3rem;"></i>
                      </div>
                  </div>
                  <div class="card-content col s12 m8">
                    <div class="card-title center">
                      <p>Vestimenta</p>
                      <div class=" center">${{ portafolio.total_vestimenta }}</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col s12 m4">
                <div class="card-title blue margin-zero" style="padding:5px"></div>
                <div class="card white z-depth-2 row margin-zero">
                  <div class="card-content blue-text col s12 m4">
                      <div class="card-title center">
                        <i class="fa fa-stethoscope" style="font-size:3rem;"></i>
                      </div>
                  </div>
                  <div class="card-content col s12 m8">
                    <div class="card-title center">
                      <p>No deducible</p>
                      <div class=" center">${{ portafolio.total_no_deducible }}</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </section>
        <section class="jumbotron container-fluid ">
            <div id="chart-dashboard">
                <div class="row center-align center-block center ">
                    <div class="card white text-darken-4 col s12 m12">
                        <div class="line-chart-wrapper">
                            <h2 class="chart-title">Total deducibles</h2>
                            <div class="chart-revenue cyan darken-2 white-text">
                                <p class="chart-revenue-total">Total de gastos 2017: ${{ portafolio.total_gastos }}</p>
                            </div>
                            <canvas id="line-chart" class="canvas"></canvas>
                            <div class="col s12 s12 m2 l2">
                                <ul class="doughnut-chart-legend align-left">
                                    <li class="mobile ultra-small"><span class="legend-col s12or"></span>Vivienda</li>
                                    <li class="kitchen ultra-small"><span class="legend-col s12or"></span> Salud</li>
                                    <li class="home ultra-small"><span class="legend-col s12or"></span> Educacion</li>
                                    <li class="mobile ultra-small"><span class="legend-col s12or"></span> Vestimenta</li>
                                    <li class="kitchen ultra-small"><span class="legend-col s12or"></span> Alimentación</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
      </div>
    </div>
{% endblock %}
